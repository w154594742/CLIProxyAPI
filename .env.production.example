# ============================================================================
# CLIProxyAPI 生产环境配置模板
# ============================================================================
# 作者: wangqiupei
# 用途: 服务器生产环境部署
# 说明: 复制为 .env 并根据实际情况修改
# ============================================================================

# ----------------------------------------------------------------------------
# 基础配置 (必须修改)
# ----------------------------------------------------------------------------
SERVER_HOST=
SERVER_PORT=8317

# 管理密钥 - 必须修改为强密码!
MANAGEMENT_SECRET_KEY=PLEASE-CHANGE-THIS-TO-A-STRONG-PASSWORD

# 是否允许远程管理访问 (生产环境建议 false)
MANAGEMENT_ALLOW_REMOTE=false

# ----------------------------------------------------------------------------
# TLS 配置 (生产环境强烈建议启用)
# ----------------------------------------------------------------------------
# TLS_ENABLE=true
# TLS_CERT_FILE=/path/to/cert.pem
# TLS_KEY_FILE=/path/to/key.pem

# ----------------------------------------------------------------------------
# 存储配置 (根据需要选择)
# ----------------------------------------------------------------------------
AUTH_DIR=/root/.cli-proxy-api

# PostgreSQL (多实例共享状态)
# PGSTORE_DSN=postgresql://cliproxy:password@localhost:5432/cliproxy
# PGSTORE_SCHEMA=public

# Git 配置同步 (可选)
# GITSTORE_GIT_URL=https://github.com/your-org/cli-proxy-config.git
# GITSTORE_GIT_USERNAME=bot-user
# GITSTORE_GIT_TOKEN=ghp_your_token

# S3/Minio 云存储 (可选)
# OBJECTSTORE_ENDPOINT=https://s3.amazonaws.com
# OBJECTSTORE_BUCKET=cliproxy-config
# OBJECTSTORE_ACCESS_KEY=your_key
# OBJECTSTORE_SECRET_KEY=your_secret

# ----------------------------------------------------------------------------
# 日志配置 (生产环境建议)
# ----------------------------------------------------------------------------
DEBUG=false
LOGGING_TO_FILE=true
USAGE_STATISTICS_ENABLED=true

# ----------------------------------------------------------------------------
# 网络配置
# ----------------------------------------------------------------------------
# 代理配置 (如需要)
# PROXY_URL=http://proxy.internal:8080

REQUEST_RETRY=3
MAX_RETRY_INTERVAL=30

# ----------------------------------------------------------------------------
# 功能配置
# ----------------------------------------------------------------------------
WS_AUTH=true
DISABLE_COOLING=false

# 配额管理
QUOTA_SWITCH_PROJECT=true
QUOTA_SWITCH_PREVIEW_MODEL=true

# ----------------------------------------------------------------------------
# 部署检查清单
# ----------------------------------------------------------------------------
# [ ] 已修改 MANAGEMENT_SECRET_KEY 为强密码
# [ ] 已配置 TLS 证书 (如使用 HTTPS)
# [ ] 已配置存储后端 (如使用 PostgreSQL/Git/S3)
# [ ] 已验证 AUTH_DIR 目录权限
# [ ] 已配置防火墙规则
# [ ] 已设置 MANAGEMENT_ALLOW_REMOTE (建议 false)
# [ ] 已配置日志目录挂载
# [ ] 已测试服务启动和健康检查
# ============================================================================
